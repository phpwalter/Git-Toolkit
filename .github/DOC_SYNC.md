# 🌍 Documentation & Translation Synchronization Process

This document governs how we manage multilingual documentation, sync structure and translations, and enforce publishing workflows across Bluewater repositories.

---

## 🧭 Key Repositories & Tooling

| Repository / Tool        | Purpose                                  | Source of Truth |
|--------------------------|------------------------------------------|-----------------|
| `bluewater-framework`    | Technical docs, automation, pre-commit   | ✅              |
| `bluewater-docs`         | Translated output for GitHub Pages       | ✅ for published |
| `.github/`               | Templates, community health, workflows   | ✅              |
| `git_toolkit/`           | i18n structure checks, headers, sync CLI | ✅              |

---

## 📐 Folder Rules

- `technical/` → Source of all English technical docs
- `docs/en/` → Base for translations (not autogenerated)
- `docs/<lang>/` → Translations (e.g., `docs/es/`, `docs/fr/`)
- `docs/` → 🔒 Do NOT edit. Auto-generated from `technical/` or i18n sources

---

## 🔄 Documentation Sync Workflow

### ✅ Always Edit:
- `/technical/` → English source for system docs
- `/docs/en/` → Community-facing docs for i18n

### ❌ Never Edit:
- `/docs/` → Built via sync
- `CHANGELOG.md` → CI-controlled

---

## 🧠 Structure Enforcement via `git_toolkit/`

The `git_toolkit/` is required for validating structure and enforcing consistency. It provides:

- ✅ `sync_docs_structure.py` for mirroring `/docs/en/` to all `/docs/<lang>/`
- ✅ Auto-generation of metadata headers and `{{last_updated}}`
- ✅ Language bar insertion and placeholder text
- ✅ Pre-commit hooks for:
  - Markdown linting
  - Structural validation
  - No edits in locked zones (`/docs/`, `CHANGELOG.md`)

### Run Manually:

```bash
python3 git_toolkit/tools/i18n/sync_docs_structure.py
````

---

## 📄 Navigation Updates

1. Edit `mkdocs.yml` → `nav_translations` block
2. Apply updates to **all supported languages**
3. Sync your updates via CI or `git_toolkit` helper scripts

⚠️ DO NOT commit English nav changes without updating translations.

---

## 📦 Publishing Flow

* ✅ Maintainers sync changes from `bluewater-framework` → `bluewater-docs`
* 📡 `bluewater-docs` is deployed via GitHub Pages (CI-triggered)
* ⚙️ New translations and structural changes automatically built and validated

---

## 🧾 Docs Sync Checklist

* [ ] Edits made only in `/technical/` or `/docs/en/`
* [ ] All `/docs/<lang>/` match `/docs/en/` via `sync_docs_structure.py`
* [ ] Navigation in `mkdocs.yml` updated across all languages
* [ ] No edits made directly to `/docs/` or `CHANGELOG.md`
* [ ] Metadata blocks and banners present
* [ ] All validations and CI checks pass

---

## 📚 Related Policies & References

* [CONTRIBUTING.md](../.github/CONTRIBUTING.md)
* [CODE\_OF\_CONDUCT.md](../.github/CODE_OF_CONDUCT.md)
* [SECURITY.md](../.github/SECURITY.md)
* [Translation Guide](./docs/en/contribute/i18n.md)
* [Tools README](./tools/i18n/README.md)
* [Script Sync Architecture](./docs/en/architecture/old/script-sync-architecture.md)

---

_LastUpdate: 2025-07-12_<br>
_Next Review: 2026-07-01_
